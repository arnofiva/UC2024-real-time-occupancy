import{ay as p,aA as a}from"./index-a7c18ff0.js";async function y(t,e){const{data:r}=await p(t,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-fbacdcc7.js"),["./BingMapsLayer-fbacdcc7.js","./index-a7c18ff0.js","./index-a86c5357.css","./imageBitmapUtils-da32ed3d.js"],import.meta.url)).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-d1364e10.js"),["./BuildingSceneLayer-d1364e10.js","./index-a7c18ff0.js","./index-a86c5357.css","./BuildingComponentSublayer-0e5596e9.js","./capabilities-c607cf72.js","./I3SIndexInfo-db7a5202.js","./I3SLayerDefinitions-04834554.js","./I3SUtil-e4866cc5.js","./I3SBinaryReader-97cc1d96.js","./popupUtils-3f768e23.js","./BuildingGroupSublayer-5b3090b0.js","./SceneService-fcb47c65.js","./associatedFeatureServiceUtils-3dccf328.js"],import.meta.url)).default,CSVLayer:async()=>(await a(()=>import("./index-a7c18ff0.js").then(t=>t.zi),["./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-644123d0.js"),["./CatalogLayer-644123d0.js","./index-a7c18ff0.js","./index-a86c5357.css","./utils-dad2ba1e.js","./ClassBreaksDefinition-0203bf12.js","./FeatureLayerSource-d22c098f.js","./External-f38772dc.js","./infoFor3D-a657d595.js","./MeshTransform-0e0c59ab.js","./editingSupport-5e7c35eb.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./QueryTask-c5e530ef.js","./executeForIds-a1bcc7f7.js","./query-7c37c69d.js","./pbfQueryUtils-60aef041.js","./pbf-c1643914.js","./executeQueryJSON-52ddc54f.js","./executeQueryPBF-74f323e4.js"],import.meta.url)).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-81504e71.js"),["./DimensionLayer-81504e71.js","./index-a7c18ff0.js","./index-a86c5357.css","./Analysis-46e048de.js","./LengthDimension-55168322.js"],import.meta.url)).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-bab98bf8.js"),["./ElevationLayer-bab98bf8.js","./index-a7c18ff0.js","./index-a86c5357.css","./ArcGISCachedService-08357204.js","./TileInfoTilemapCache-34a9423e.js","./TilemapCache-d8c09e2d.js","./LercDecoder-bac489ca.js","./WorkerHandle-5dab1b29.js"],import.meta.url)).default,FeatureLayer:async()=>(await a(()=>import("./index-a7c18ff0.js").then(t=>t.zh),["./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-09208318.js"),["./GeoJSONLayer-09208318.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-6334f254.js"),["./GeoRSSLayer-6334f254.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-b0b73cae.js"),["./GroupLayer-b0b73cae.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-d52a65dd.js"),["./ImageryLayer-d52a65dd.js","./index-a7c18ff0.js","./index-a86c5357.css","./fetchRasterInfo-ed14ec94.js","./dataUtils-89b0da8f.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./ClassBreaksDefinition-0203bf12.js","./imageBitmapUtils-da32ed3d.js","./executeQueryJSON-52ddc54f.js","./query-7c37c69d.js","./pbfQueryUtils-60aef041.js","./pbf-c1643914.js","./AttachmentInfo-bd821dd7.js","./executeForIds-a1bcc7f7.js"],import.meta.url)).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-a353779c.js"),["./ImageryTileLayer-a353779c.js","./index-a7c18ff0.js","./index-a86c5357.css","./fetchRasterInfo-ed14ec94.js","./dataUtils-89b0da8f.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./ClassBreaksDefinition-0203bf12.js","./rasterProjectionHelper-988b8d07.js","./PolynomialTransform-f1fcc968.js","./TilemapCache-d8c09e2d.js"],import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-74d1e50e.js"),["./IntegratedMesh3DTilesLayer-74d1e50e.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-0d7fb344.js"),["./IntegratedMeshLayer-0d7fb344.js","./index-a7c18ff0.js","./index-a86c5357.css","./persistable-43d96274.js","./resourceExtension-1abd8e46.js","./SceneService-fcb47c65.js","./I3SIndexInfo-db7a5202.js","./I3SLayerDefinitions-04834554.js","./SceneModification-52a57333.js"],import.meta.url)).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-09bfd39f.js"),["./KMLLayer-09bfd39f.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-439e880a.js"),["./KnowledgeGraphLayer-439e880a.js","./index-a7c18ff0.js","./index-a86c5357.css","./KnowledgeGraphSublayer-04e8425b.js","./FeatureStore-7bf9e7aa.js","./BoundsStore-3627d398.js","./PooledRBush-9f748ba3.js","./quickselect-ba05d402.js","./QueryEngine-5fa22427.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./WhereClause-2fb375e8.js","./TimeOnly-53f05750.js","./json-48e3ea08.js","./utils-16d5bcee.js","./utils-16334e7c.js","./utils-dad2ba1e.js","./ClassBreaksDefinition-0203bf12.js","./optimizedFeatureQueryEngineAdapter-56b24511.js","./knowledgeGraphService-d62e6656.js","./GraphQueryStreaming-e4996eef.js"],import.meta.url)).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-fe75b399.js"),["./LineOfSightLayer-fe75b399.js","./index-a7c18ff0.js","./index-a86c5357.css","./Analysis-46e048de.js","./LineOfSightAnalysisTarget-9a5b5f26.js","./persistable-43d96274.js","./resourceExtension-1abd8e46.js"],import.meta.url)).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-004adf88.js"),["./LinkChartLayer-004adf88.js","./index-a7c18ff0.js","./index-a86c5357.css","./KnowledgeGraphSublayer-04e8425b.js","./FeatureStore-7bf9e7aa.js","./BoundsStore-3627d398.js","./PooledRBush-9f748ba3.js","./quickselect-ba05d402.js","./QueryEngine-5fa22427.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./WhereClause-2fb375e8.js","./TimeOnly-53f05750.js","./json-48e3ea08.js","./utils-16d5bcee.js","./utils-16334e7c.js","./utils-dad2ba1e.js","./ClassBreaksDefinition-0203bf12.js","./optimizedFeatureQueryEngineAdapter-56b24511.js","./knowledgeGraphService-d62e6656.js","./GraphQueryStreaming-e4996eef.js"],import.meta.url)).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-adcd2898.js"),["./MapImageLayer-adcd2898.js","./index-a7c18ff0.js","./index-a86c5357.css","./SublayersOwner-09777762.js","./QueryTask-c5e530ef.js","./infoFor3D-a657d595.js","./executeForIds-a1bcc7f7.js","./query-7c37c69d.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./pbfQueryUtils-60aef041.js","./pbf-c1643914.js","./executeQueryJSON-52ddc54f.js","./executeQueryPBF-74f323e4.js","./sublayerUtils-d1436ed8.js","./ExportImageParameters-33ed7993.js","./floorFilterUtils-73949d2d.js","./imageBitmapUtils-da32ed3d.js"],import.meta.url)).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-f6f869c3.js"),["./MapNotesLayer-f6f869c3.js","./index-a7c18ff0.js","./index-a86c5357.css","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./GraphicsLayer-a7989e16.js","./objectIdUtils-967fafff.js"],import.meta.url)).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-86d9b051.js"),["./MediaLayer-86d9b051.js","./index-a7c18ff0.js","./index-a86c5357.css","./VideoElement-c18318a8.js","./resourceExtension-1abd8e46.js","./MediaElementView-c5a47e89.js","./normalizeUtilsSync-51fe5e4c.js","./normalizeUtilsCommon-5dfeef52.js","./BoundsStore-3627d398.js","./PooledRBush-9f748ba3.js","./quickselect-ba05d402.js"],import.meta.url)).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-864eab2e.js"),["./OGCFeatureLayer-864eab2e.js","./index-a7c18ff0.js","./index-a86c5357.css","./ogcFeatureUtils-0e16a15f.js","./geojson-986c3342.js","./date-430969b3.js","./sourceUtils-47efa73c.js"],import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-f6a8910d.js"),["./OpenStreetMapLayer-f6a8910d.js","./index-a7c18ff0.js","./index-a86c5357.css","./WebTileLayer-7157c754.js","./imageBitmapUtils-da32ed3d.js"],import.meta.url)).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-025e41c4.js"),["./OrientedImageryLayer-025e41c4.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-c2452c15.js"),["./PointCloudLayer-c2452c15.js","./index-a7c18ff0.js","./index-a86c5357.css","./SceneService-fcb47c65.js","./I3SIndexInfo-db7a5202.js","./PointCloudUniqueValueRenderer-5b49c746.js"],import.meta.url)).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-8f147fdc.js"),["./RouteLayer-8f147fdc.js","./index-a7c18ff0.js","./index-a86c5357.css","./Stop-a533dfd3.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js"],import.meta.url)).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-d1d2a56e.js"),["./SceneLayer-d1d2a56e.js","./index-a7c18ff0.js","./index-a86c5357.css","./Mesh-e9a1b2e3.js","./MeshTransform-0e0c59ab.js","./vertexSpaceConversion-23b1184d.js","./External-f38772dc.js","./infoFor3D-a657d595.js","./uploadAssetErrors-f46a77d2.js","./SceneService-fcb47c65.js","./I3SIndexInfo-db7a5202.js","./associatedFeatureServiceUtils-3dccf328.js","./capabilities-c607cf72.js","./I3SLayerDefinitions-04834554.js","./persistable-43d96274.js","./resourceExtension-1abd8e46.js","./I3SUtil-e4866cc5.js","./I3SBinaryReader-97cc1d96.js","./popupUtils-3f768e23.js"],import.meta.url)).default,StreamLayer:async()=>(await a(()=>import("./index-a7c18ff0.js").then(t=>t.zj),["./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-03ba5a7d.js"),["./SubtypeGroupLayer-03ba5a7d.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,TileLayer:async()=>(await a(()=>import("./TileLayer-3488b357.js"),["./TileLayer-3488b357.js","./index-a7c18ff0.js","./index-a86c5357.css","./ArcGISCachedService-08357204.js","./TileInfoTilemapCache-34a9423e.js","./TilemapCache-d8c09e2d.js","./SublayersOwner-09777762.js","./QueryTask-c5e530ef.js","./infoFor3D-a657d595.js","./executeForIds-a1bcc7f7.js","./query-7c37c69d.js","./normalizeUtils-611fbb09.js","./normalizeUtilsCommon-5dfeef52.js","./pbfQueryUtils-60aef041.js","./pbf-c1643914.js","./executeQueryJSON-52ddc54f.js","./executeQueryPBF-74f323e4.js","./sublayerUtils-d1436ed8.js","./imageBitmapUtils-da32ed3d.js"],import.meta.url)).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-573f8ecb.js"),["./UnknownLayer-573f8ecb.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-5f6494b7.js"),["./UnsupportedLayer-5f6494b7.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-c52a35f1.js"),["./VectorTileLayer-c52a35f1.js","./index-a7c18ff0.js","./index-a86c5357.css","./ArcGISCachedService-08357204.js","./TileInfoTilemapCache-34a9423e.js","./TilemapCache-d8c09e2d.js","./StyleRepository-a01ac394.js"],import.meta.url)).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-6267d936.js"),["./VideoLayer-6267d936.js","./index-a7c18ff0.js","./index-a86c5357.css"],import.meta.url)).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-a277ff31.js"),["./VoxelLayer-a277ff31.js","./index-a7c18ff0.js","./index-a86c5357.css","./SceneService-fcb47c65.js","./I3SIndexInfo-db7a5202.js","./persistable-43d96274.js","./resourceExtension-1abd8e46.js"],import.meta.url)).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-3390f4bc.js"),["./WFSLayer-3390f4bc.js","./index-a7c18ff0.js","./index-a86c5357.css","./wfsUtils-82b46696.js","./geojson-986c3342.js","./date-430969b3.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-20442dc5.js"),["./WMSLayer-20442dc5.js","./index-a7c18ff0.js","./index-a86c5357.css","./crsUtils-3bab3d8c.js","./ExportWMSImageParameters-7984f8cc.js","./imageBitmapUtils-da32ed3d.js"],import.meta.url)).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-a320891c.js"),["./WMTSLayer-a320891c.js","./index-a7c18ff0.js","./index-a86c5357.css","./WebTileLayer-7157c754.js","./imageBitmapUtils-da32ed3d.js","./TileInfoTilemapCache-34a9423e.js","./crsUtils-3bab3d8c.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-7157c754.js").then(t=>t.W),["./WebTileLayer-7157c754.js","./index-a7c18ff0.js","./index-a86c5357.css","./imageBitmapUtils-da32ed3d.js"],import.meta.url)).default},d=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,...i}=e||{},_=r?await r.fetchServiceMetadata(t,i):await y(t,i);n(_),l(_);const u={serviceJSON:_};if((_.currentVersion??0)<10.5)return u;const m=`${t}/layers`,o=r?await r.fetchServiceMetadata(m,i):await y(m,i);return n(o),l(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function L(t){const{type:e}=t;return!!e&&d.has(e)}function s(t){return t.type==="Table"}function l(t){t.layers=t.layers?.filter(L),t.tables=t.tables?.filter(s)}function E(t){t.type||="Feature Layer"}function c(t){t.type||="Table"}function n(t){t.layers?.forEach(E),t.tables?.forEach(c)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,y as b,w as i,T as t};
