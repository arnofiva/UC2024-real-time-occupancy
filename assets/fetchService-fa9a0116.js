import{ay as p,aA as a}from"./index-ab96db07.js";async function y(t,e){const{data:r}=await p(t,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-ec3f388e.js"),["./BingMapsLayer-ec3f388e.js","./index-ab96db07.js","./index-74ab7f40.css","./imageBitmapUtils-0ef6b84a.js"],import.meta.url)).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-5f1caffc.js"),["./BuildingSceneLayer-5f1caffc.js","./index-ab96db07.js","./index-74ab7f40.css","./BuildingComponentSublayer-7bc9461e.js","./capabilities-c607cf72.js","./I3SIndexInfo-a950e410.js","./I3SLayerDefinitions-84fb5d7d.js","./I3SUtil-c01a900c.js","./I3SBinaryReader-1b3cb0df.js","./popupUtils-5d416a17.js","./BuildingGroupSublayer-c788096c.js","./SceneService-8540b2ab.js","./associatedFeatureServiceUtils-82735909.js"],import.meta.url)).default,CSVLayer:async()=>(await a(()=>import("./index-ab96db07.js").then(t=>t.zi),["./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-6436a4f4.js"),["./CatalogLayer-6436a4f4.js","./index-ab96db07.js","./index-74ab7f40.css","./utils-3bd43217.js","./ClassBreaksDefinition-78fccd7d.js","./FeatureLayerSource-efbc64c5.js","./External-882ffaa7.js","./infoFor3D-a657d595.js","./MeshTransform-aee14b25.js","./editingSupport-6c57d782.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./QueryTask-0180e8e9.js","./executeForIds-4d407351.js","./query-f1663770.js","./pbfQueryUtils-ffe030d9.js","./pbf-b4a86cc9.js","./executeQueryJSON-10f3e1e5.js","./executeQueryPBF-4af0a7ad.js"],import.meta.url)).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-4559ac71.js"),["./DimensionLayer-4559ac71.js","./index-ab96db07.js","./index-74ab7f40.css","./Analysis-f3526f00.js","./LengthDimension-b5709ecc.js"],import.meta.url)).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-3b6534ff.js"),["./ElevationLayer-3b6534ff.js","./index-ab96db07.js","./index-74ab7f40.css","./ArcGISCachedService-443ab77a.js","./TileInfoTilemapCache-6cd897b7.js","./TilemapCache-59e5567d.js","./LercDecoder-daf762ae.js","./WorkerHandle-ce022e20.js"],import.meta.url)).default,FeatureLayer:async()=>(await a(()=>import("./index-ab96db07.js").then(t=>t.zh),["./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-0e38d78d.js"),["./GeoJSONLayer-0e38d78d.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-59707839.js"),["./GeoRSSLayer-59707839.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-07ac6c17.js"),["./GroupLayer-07ac6c17.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-abe521f2.js"),["./ImageryLayer-abe521f2.js","./index-ab96db07.js","./index-74ab7f40.css","./fetchRasterInfo-08f8c684.js","./dataUtils-ecf05d21.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./ClassBreaksDefinition-78fccd7d.js","./imageBitmapUtils-0ef6b84a.js","./executeQueryJSON-10f3e1e5.js","./query-f1663770.js","./pbfQueryUtils-ffe030d9.js","./pbf-b4a86cc9.js","./AttachmentInfo-d8dd81a7.js","./executeForIds-4d407351.js"],import.meta.url)).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-2a358063.js"),["./ImageryTileLayer-2a358063.js","./index-ab96db07.js","./index-74ab7f40.css","./fetchRasterInfo-08f8c684.js","./dataUtils-ecf05d21.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./ClassBreaksDefinition-78fccd7d.js","./rasterProjectionHelper-6da77e9e.js","./PolynomialTransform-b739c5be.js","./TilemapCache-59e5567d.js"],import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-e8232894.js"),["./IntegratedMesh3DTilesLayer-e8232894.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-8ae5ba41.js"),["./IntegratedMeshLayer-8ae5ba41.js","./index-ab96db07.js","./index-74ab7f40.css","./persistable-af6fed38.js","./resourceExtension-6143fef8.js","./SceneService-8540b2ab.js","./I3SIndexInfo-a950e410.js","./I3SLayerDefinitions-84fb5d7d.js","./SceneModification-16e5a268.js"],import.meta.url)).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-6372bf66.js"),["./KMLLayer-6372bf66.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-0ff9a38b.js"),["./KnowledgeGraphLayer-0ff9a38b.js","./index-ab96db07.js","./index-74ab7f40.css","./KnowledgeGraphSublayer-244d77b3.js","./FeatureStore-536287ab.js","./BoundsStore-e64d6a6f.js","./PooledRBush-81406012.js","./quickselect-6bdb87cc.js","./QueryEngine-e4c55ed5.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./WhereClause-11cd8876.js","./TimeOnly-0ea1f14a.js","./json-48e3ea08.js","./utils-b5d3e760.js","./utils-6fba2c13.js","./utils-3bd43217.js","./ClassBreaksDefinition-78fccd7d.js","./optimizedFeatureQueryEngineAdapter-6cdbde2c.js","./knowledgeGraphService-ca9def77.js","./GraphQueryStreaming-4d746de4.js"],import.meta.url)).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-b6eb8ad7.js"),["./LineOfSightLayer-b6eb8ad7.js","./index-ab96db07.js","./index-74ab7f40.css","./Analysis-f3526f00.js","./LineOfSightAnalysisTarget-10dcada5.js","./persistable-af6fed38.js","./resourceExtension-6143fef8.js"],import.meta.url)).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-102410bd.js"),["./LinkChartLayer-102410bd.js","./index-ab96db07.js","./index-74ab7f40.css","./KnowledgeGraphSublayer-244d77b3.js","./FeatureStore-536287ab.js","./BoundsStore-e64d6a6f.js","./PooledRBush-81406012.js","./quickselect-6bdb87cc.js","./QueryEngine-e4c55ed5.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./WhereClause-11cd8876.js","./TimeOnly-0ea1f14a.js","./json-48e3ea08.js","./utils-b5d3e760.js","./utils-6fba2c13.js","./utils-3bd43217.js","./ClassBreaksDefinition-78fccd7d.js","./optimizedFeatureQueryEngineAdapter-6cdbde2c.js","./knowledgeGraphService-ca9def77.js","./GraphQueryStreaming-4d746de4.js"],import.meta.url)).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-05514fed.js"),["./MapImageLayer-05514fed.js","./index-ab96db07.js","./index-74ab7f40.css","./SublayersOwner-51ae6e4a.js","./QueryTask-0180e8e9.js","./infoFor3D-a657d595.js","./executeForIds-4d407351.js","./query-f1663770.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./pbfQueryUtils-ffe030d9.js","./pbf-b4a86cc9.js","./executeQueryJSON-10f3e1e5.js","./executeQueryPBF-4af0a7ad.js","./sublayerUtils-3862e7fb.js","./ExportImageParameters-7b0ab4ed.js","./floorFilterUtils-73949d2d.js","./imageBitmapUtils-0ef6b84a.js"],import.meta.url)).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-1cb0a692.js"),["./MapNotesLayer-1cb0a692.js","./index-ab96db07.js","./index-74ab7f40.css","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./GraphicsLayer-7ee5aae9.js","./objectIdUtils-967fafff.js"],import.meta.url)).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-62fe79a2.js"),["./MediaLayer-62fe79a2.js","./index-ab96db07.js","./index-74ab7f40.css","./VideoElement-69daa072.js","./resourceExtension-6143fef8.js","./MediaElementView-8ba2ad15.js","./normalizeUtilsSync-597f881a.js","./normalizeUtilsCommon-6ab3a73c.js","./BoundsStore-e64d6a6f.js","./PooledRBush-81406012.js","./quickselect-6bdb87cc.js"],import.meta.url)).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-a9a749b3.js"),["./OGCFeatureLayer-a9a749b3.js","./index-ab96db07.js","./index-74ab7f40.css","./ogcFeatureUtils-d8037de8.js","./geojson-848e55a6.js","./date-430969b3.js","./sourceUtils-3d3d2d63.js"],import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-f2b3c15f.js"),["./OpenStreetMapLayer-f2b3c15f.js","./index-ab96db07.js","./index-74ab7f40.css","./WebTileLayer-b9ee741f.js","./imageBitmapUtils-0ef6b84a.js"],import.meta.url)).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-aa6e9f79.js"),["./OrientedImageryLayer-aa6e9f79.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-7bbce62f.js"),["./PointCloudLayer-7bbce62f.js","./index-ab96db07.js","./index-74ab7f40.css","./SceneService-8540b2ab.js","./I3SIndexInfo-a950e410.js","./PointCloudUniqueValueRenderer-19e3c41a.js"],import.meta.url)).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-dd223438.js"),["./RouteLayer-dd223438.js","./index-ab96db07.js","./index-74ab7f40.css","./Stop-d22a4323.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js"],import.meta.url)).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-69cc091a.js"),["./SceneLayer-69cc091a.js","./index-ab96db07.js","./index-74ab7f40.css","./Mesh-8f965193.js","./MeshTransform-aee14b25.js","./vertexSpaceConversion-6cc95785.js","./External-882ffaa7.js","./infoFor3D-a657d595.js","./uploadAssetErrors-e9f22255.js","./SceneService-8540b2ab.js","./I3SIndexInfo-a950e410.js","./associatedFeatureServiceUtils-82735909.js","./capabilities-c607cf72.js","./I3SLayerDefinitions-84fb5d7d.js","./persistable-af6fed38.js","./resourceExtension-6143fef8.js","./I3SUtil-c01a900c.js","./I3SBinaryReader-1b3cb0df.js","./popupUtils-5d416a17.js"],import.meta.url)).default,StreamLayer:async()=>(await a(()=>import("./index-ab96db07.js").then(t=>t.zj),["./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-d5ae0ee7.js"),["./SubtypeGroupLayer-d5ae0ee7.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,TileLayer:async()=>(await a(()=>import("./TileLayer-d87e404d.js"),["./TileLayer-d87e404d.js","./index-ab96db07.js","./index-74ab7f40.css","./ArcGISCachedService-443ab77a.js","./TileInfoTilemapCache-6cd897b7.js","./TilemapCache-59e5567d.js","./SublayersOwner-51ae6e4a.js","./QueryTask-0180e8e9.js","./infoFor3D-a657d595.js","./executeForIds-4d407351.js","./query-f1663770.js","./normalizeUtils-050de560.js","./normalizeUtilsCommon-6ab3a73c.js","./pbfQueryUtils-ffe030d9.js","./pbf-b4a86cc9.js","./executeQueryJSON-10f3e1e5.js","./executeQueryPBF-4af0a7ad.js","./sublayerUtils-3862e7fb.js","./imageBitmapUtils-0ef6b84a.js"],import.meta.url)).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-7eb3ff9a.js"),["./UnknownLayer-7eb3ff9a.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-3bce5b56.js"),["./UnsupportedLayer-3bce5b56.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-3c5fdccf.js"),["./VectorTileLayer-3c5fdccf.js","./index-ab96db07.js","./index-74ab7f40.css","./ArcGISCachedService-443ab77a.js","./TileInfoTilemapCache-6cd897b7.js","./TilemapCache-59e5567d.js","./StyleRepository-aa454248.js"],import.meta.url)).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-2012f3d6.js"),["./VideoLayer-2012f3d6.js","./index-ab96db07.js","./index-74ab7f40.css"],import.meta.url)).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-800e00d6.js"),["./VoxelLayer-800e00d6.js","./index-ab96db07.js","./index-74ab7f40.css","./SceneService-8540b2ab.js","./I3SIndexInfo-a950e410.js","./persistable-af6fed38.js","./resourceExtension-6143fef8.js"],import.meta.url)).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-fe1b99db.js"),["./WFSLayer-fe1b99db.js","./index-ab96db07.js","./index-74ab7f40.css","./wfsUtils-54ce95cf.js","./geojson-848e55a6.js","./date-430969b3.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-b1494478.js"),["./WMSLayer-b1494478.js","./index-ab96db07.js","./index-74ab7f40.css","./crsUtils-3bab3d8c.js","./ExportWMSImageParameters-e1459120.js","./imageBitmapUtils-0ef6b84a.js"],import.meta.url)).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-b8fbbdc3.js"),["./WMTSLayer-b8fbbdc3.js","./index-ab96db07.js","./index-74ab7f40.css","./WebTileLayer-b9ee741f.js","./imageBitmapUtils-0ef6b84a.js","./TileInfoTilemapCache-6cd897b7.js","./crsUtils-3bab3d8c.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-b9ee741f.js").then(t=>t.W),["./WebTileLayer-b9ee741f.js","./index-ab96db07.js","./index-74ab7f40.css","./imageBitmapUtils-0ef6b84a.js"],import.meta.url)).default},d=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,...i}=e||{},_=r?await r.fetchServiceMetadata(t,i):await y(t,i);n(_),l(_);const u={serviceJSON:_};if((_.currentVersion??0)<10.5)return u;const m=`${t}/layers`,o=r?await r.fetchServiceMetadata(m,i):await y(m,i);return n(o),l(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function L(t){const{type:e}=t;return!!e&&d.has(e)}function s(t){return t.type==="Table"}function l(t){t.layers=t.layers?.filter(L),t.tables=t.tables?.filter(s)}function E(t){t.type||="Feature Layer"}function c(t){t.type||="Table"}function n(t){t.layers?.forEach(E),t.tables?.forEach(c)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,y as b,w as i,T as t};
