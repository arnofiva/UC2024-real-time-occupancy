import{ay as p,aA as a}from"./index-2e5346e2.js";async function y(t,e){const{data:r}=await p(t,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-748dfef8.js"),["./BingMapsLayer-748dfef8.js","./index-2e5346e2.js","./index-74ab7f40.css","./imageBitmapUtils-204e837e.js"],import.meta.url)).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-91b1a43a.js"),["./BuildingSceneLayer-91b1a43a.js","./index-2e5346e2.js","./index-74ab7f40.css","./BuildingComponentSublayer-b9175827.js","./capabilities-c607cf72.js","./I3SIndexInfo-b5deb9fb.js","./I3SLayerDefinitions-c193bf9a.js","./I3SUtil-433aa6c6.js","./I3SBinaryReader-7d06b9f8.js","./popupUtils-b5e9516b.js","./BuildingGroupSublayer-18646b17.js","./SceneService-d18dc974.js","./associatedFeatureServiceUtils-4178da0e.js"],import.meta.url)).default,CSVLayer:async()=>(await a(()=>import("./index-2e5346e2.js").then(t=>t.zi),["./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-321b38cc.js"),["./CatalogLayer-321b38cc.js","./index-2e5346e2.js","./index-74ab7f40.css","./utils-7987f346.js","./ClassBreaksDefinition-fb67d2b9.js","./FeatureLayerSource-94a40c4b.js","./External-2a139f18.js","./infoFor3D-a657d595.js","./MeshTransform-a96ec9d0.js","./editingSupport-4d54aa72.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./QueryTask-8209eb8c.js","./executeForIds-17023ae7.js","./query-c5691f91.js","./pbfQueryUtils-ed60e431.js","./pbf-e6ecbe95.js","./executeQueryJSON-5329000c.js","./executeQueryPBF-98f5d308.js"],import.meta.url)).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-4bd6ab82.js"),["./DimensionLayer-4bd6ab82.js","./index-2e5346e2.js","./index-74ab7f40.css","./Analysis-37fb73fc.js","./LengthDimension-e70f4022.js"],import.meta.url)).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-d058ec44.js"),["./ElevationLayer-d058ec44.js","./index-2e5346e2.js","./index-74ab7f40.css","./ArcGISCachedService-bcb5a473.js","./TileInfoTilemapCache-accf4c4a.js","./TilemapCache-3b452fb0.js","./LercDecoder-af5ecdc0.js","./WorkerHandle-e7e398bd.js"],import.meta.url)).default,FeatureLayer:async()=>(await a(()=>import("./index-2e5346e2.js").then(t=>t.zh),["./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-bee8f44e.js"),["./GeoJSONLayer-bee8f44e.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-9e01af35.js"),["./GeoRSSLayer-9e01af35.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-d0e65358.js"),["./GroupLayer-d0e65358.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-1c986176.js"),["./ImageryLayer-1c986176.js","./index-2e5346e2.js","./index-74ab7f40.css","./fetchRasterInfo-ee3b7454.js","./dataUtils-7bb407f0.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./ClassBreaksDefinition-fb67d2b9.js","./imageBitmapUtils-204e837e.js","./executeQueryJSON-5329000c.js","./query-c5691f91.js","./pbfQueryUtils-ed60e431.js","./pbf-e6ecbe95.js","./AttachmentInfo-16c461f7.js","./executeForIds-17023ae7.js"],import.meta.url)).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-81c9a7ce.js"),["./ImageryTileLayer-81c9a7ce.js","./index-2e5346e2.js","./index-74ab7f40.css","./fetchRasterInfo-ee3b7454.js","./dataUtils-7bb407f0.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./ClassBreaksDefinition-fb67d2b9.js","./rasterProjectionHelper-ac8bd95e.js","./PolynomialTransform-872e529f.js","./TilemapCache-3b452fb0.js"],import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-7f943345.js"),["./IntegratedMesh3DTilesLayer-7f943345.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-327cf73c.js"),["./IntegratedMeshLayer-327cf73c.js","./index-2e5346e2.js","./index-74ab7f40.css","./persistable-bc5fd613.js","./resourceExtension-4d9ad086.js","./SceneService-d18dc974.js","./I3SIndexInfo-b5deb9fb.js","./I3SLayerDefinitions-c193bf9a.js","./SceneModification-632c1d53.js"],import.meta.url)).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-c3eeeeb4.js"),["./KMLLayer-c3eeeeb4.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-1fd140a1.js"),["./KnowledgeGraphLayer-1fd140a1.js","./index-2e5346e2.js","./index-74ab7f40.css","./KnowledgeGraphSublayer-465b7111.js","./FeatureStore-a0f509a5.js","./BoundsStore-ffe8bbe6.js","./PooledRBush-15a70539.js","./quickselect-abafd0be.js","./QueryEngine-f3e2fba1.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./WhereClause-a3f3a2c3.js","./TimeOnly-2cc0ebd5.js","./json-48e3ea08.js","./utils-ddd58219.js","./utils-c8c6ca66.js","./utils-7987f346.js","./ClassBreaksDefinition-fb67d2b9.js","./optimizedFeatureQueryEngineAdapter-e6086797.js","./knowledgeGraphService-816f8e26.js","./GraphQueryStreaming-0e4e84fb.js"],import.meta.url)).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-76ec5173.js"),["./LineOfSightLayer-76ec5173.js","./index-2e5346e2.js","./index-74ab7f40.css","./Analysis-37fb73fc.js","./LineOfSightAnalysisTarget-754623a2.js","./persistable-bc5fd613.js","./resourceExtension-4d9ad086.js"],import.meta.url)).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-9c38c650.js"),["./LinkChartLayer-9c38c650.js","./index-2e5346e2.js","./index-74ab7f40.css","./KnowledgeGraphSublayer-465b7111.js","./FeatureStore-a0f509a5.js","./BoundsStore-ffe8bbe6.js","./PooledRBush-15a70539.js","./quickselect-abafd0be.js","./QueryEngine-f3e2fba1.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./WhereClause-a3f3a2c3.js","./TimeOnly-2cc0ebd5.js","./json-48e3ea08.js","./utils-ddd58219.js","./utils-c8c6ca66.js","./utils-7987f346.js","./ClassBreaksDefinition-fb67d2b9.js","./optimizedFeatureQueryEngineAdapter-e6086797.js","./knowledgeGraphService-816f8e26.js","./GraphQueryStreaming-0e4e84fb.js"],import.meta.url)).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-20480eb5.js"),["./MapImageLayer-20480eb5.js","./index-2e5346e2.js","./index-74ab7f40.css","./SublayersOwner-c985f0dd.js","./QueryTask-8209eb8c.js","./infoFor3D-a657d595.js","./executeForIds-17023ae7.js","./query-c5691f91.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./pbfQueryUtils-ed60e431.js","./pbf-e6ecbe95.js","./executeQueryJSON-5329000c.js","./executeQueryPBF-98f5d308.js","./sublayerUtils-a3f8c9d4.js","./ExportImageParameters-f09408f4.js","./floorFilterUtils-73949d2d.js","./imageBitmapUtils-204e837e.js"],import.meta.url)).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-fd1eb679.js"),["./MapNotesLayer-fd1eb679.js","./index-2e5346e2.js","./index-74ab7f40.css","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./GraphicsLayer-1b5da0cb.js","./objectIdUtils-967fafff.js"],import.meta.url)).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-06498564.js"),["./MediaLayer-06498564.js","./index-2e5346e2.js","./index-74ab7f40.css","./VideoElement-a39a5e78.js","./resourceExtension-4d9ad086.js","./MediaElementView-0e11a57d.js","./normalizeUtilsSync-f77dcdca.js","./normalizeUtilsCommon-7a54fa25.js","./BoundsStore-ffe8bbe6.js","./PooledRBush-15a70539.js","./quickselect-abafd0be.js"],import.meta.url)).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-08b6dfd0.js"),["./OGCFeatureLayer-08b6dfd0.js","./index-2e5346e2.js","./index-74ab7f40.css","./ogcFeatureUtils-d395b4a7.js","./geojson-c1c8987f.js","./date-430969b3.js","./sourceUtils-008250d4.js"],import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-8b6a6065.js"),["./OpenStreetMapLayer-8b6a6065.js","./index-2e5346e2.js","./index-74ab7f40.css","./WebTileLayer-ebc30525.js","./imageBitmapUtils-204e837e.js"],import.meta.url)).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-a43bd971.js"),["./OrientedImageryLayer-a43bd971.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-6003b127.js"),["./PointCloudLayer-6003b127.js","./index-2e5346e2.js","./index-74ab7f40.css","./SceneService-d18dc974.js","./I3SIndexInfo-b5deb9fb.js","./PointCloudUniqueValueRenderer-29fb4bb8.js"],import.meta.url)).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-778f3d0a.js"),["./RouteLayer-778f3d0a.js","./index-2e5346e2.js","./index-74ab7f40.css","./Stop-71bf77d0.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js"],import.meta.url)).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-87ae87c4.js"),["./SceneLayer-87ae87c4.js","./index-2e5346e2.js","./index-74ab7f40.css","./Mesh-caf103de.js","./MeshTransform-a96ec9d0.js","./vertexSpaceConversion-488b7cb4.js","./External-2a139f18.js","./infoFor3D-a657d595.js","./uploadAssetErrors-3564c10c.js","./SceneService-d18dc974.js","./I3SIndexInfo-b5deb9fb.js","./associatedFeatureServiceUtils-4178da0e.js","./capabilities-c607cf72.js","./I3SLayerDefinitions-c193bf9a.js","./persistable-bc5fd613.js","./resourceExtension-4d9ad086.js","./I3SUtil-433aa6c6.js","./I3SBinaryReader-7d06b9f8.js","./popupUtils-b5e9516b.js"],import.meta.url)).default,StreamLayer:async()=>(await a(()=>import("./index-2e5346e2.js").then(t=>t.zj),["./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-c48d2948.js"),["./SubtypeGroupLayer-c48d2948.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,TileLayer:async()=>(await a(()=>import("./TileLayer-5526918b.js"),["./TileLayer-5526918b.js","./index-2e5346e2.js","./index-74ab7f40.css","./ArcGISCachedService-bcb5a473.js","./TileInfoTilemapCache-accf4c4a.js","./TilemapCache-3b452fb0.js","./SublayersOwner-c985f0dd.js","./QueryTask-8209eb8c.js","./infoFor3D-a657d595.js","./executeForIds-17023ae7.js","./query-c5691f91.js","./normalizeUtils-fde1ded6.js","./normalizeUtilsCommon-7a54fa25.js","./pbfQueryUtils-ed60e431.js","./pbf-e6ecbe95.js","./executeQueryJSON-5329000c.js","./executeQueryPBF-98f5d308.js","./sublayerUtils-a3f8c9d4.js","./imageBitmapUtils-204e837e.js"],import.meta.url)).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-bf6ff805.js"),["./UnknownLayer-bf6ff805.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-61cb6db5.js"),["./UnsupportedLayer-61cb6db5.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-a5331df7.js"),["./VectorTileLayer-a5331df7.js","./index-2e5346e2.js","./index-74ab7f40.css","./ArcGISCachedService-bcb5a473.js","./TileInfoTilemapCache-accf4c4a.js","./TilemapCache-3b452fb0.js","./StyleRepository-8169b2b1.js"],import.meta.url)).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-a8f85e75.js"),["./VideoLayer-a8f85e75.js","./index-2e5346e2.js","./index-74ab7f40.css"],import.meta.url)).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-8f31c47e.js"),["./VoxelLayer-8f31c47e.js","./index-2e5346e2.js","./index-74ab7f40.css","./SceneService-d18dc974.js","./I3SIndexInfo-b5deb9fb.js","./persistable-bc5fd613.js","./resourceExtension-4d9ad086.js"],import.meta.url)).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-99a270bf.js"),["./WFSLayer-99a270bf.js","./index-2e5346e2.js","./index-74ab7f40.css","./wfsUtils-4e0716c8.js","./geojson-c1c8987f.js","./date-430969b3.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-20bcb2fb.js"),["./WMSLayer-20bcb2fb.js","./index-2e5346e2.js","./index-74ab7f40.css","./crsUtils-3bab3d8c.js","./ExportWMSImageParameters-05fe8c82.js","./imageBitmapUtils-204e837e.js"],import.meta.url)).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-cc510238.js"),["./WMTSLayer-cc510238.js","./index-2e5346e2.js","./index-74ab7f40.css","./WebTileLayer-ebc30525.js","./imageBitmapUtils-204e837e.js","./TileInfoTilemapCache-accf4c4a.js","./crsUtils-3bab3d8c.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-ebc30525.js").then(t=>t.W),["./WebTileLayer-ebc30525.js","./index-2e5346e2.js","./index-74ab7f40.css","./imageBitmapUtils-204e837e.js"],import.meta.url)).default},d=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,...i}=e||{},_=r?await r.fetchServiceMetadata(t,i):await y(t,i);n(_),l(_);const u={serviceJSON:_};if((_.currentVersion??0)<10.5)return u;const m=`${t}/layers`,o=r?await r.fetchServiceMetadata(m,i):await y(m,i);return n(o),l(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function L(t){const{type:e}=t;return!!e&&d.has(e)}function s(t){return t.type==="Table"}function l(t){t.layers=t.layers?.filter(L),t.tables=t.tables?.filter(s)}function E(t){t.type||="Feature Layer"}function c(t){t.type||="Table"}function n(t){t.layers?.forEach(E),t.tables?.forEach(c)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,y as b,w as i,T as t};
