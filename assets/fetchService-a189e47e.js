import{ay as p,aA as a}from"./index-755e30b3.js";async function y(t,e){const{data:r}=await p(t,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-6965279d.js"),["./BingMapsLayer-6965279d.js","./index-755e30b3.js","./index-74ab7f40.css","./imageBitmapUtils-d255864d.js"],import.meta.url)).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-6c6dd537.js"),["./BuildingSceneLayer-6c6dd537.js","./index-755e30b3.js","./index-74ab7f40.css","./BuildingComponentSublayer-f6be9d00.js","./capabilities-c607cf72.js","./I3SIndexInfo-75b42d9e.js","./I3SLayerDefinitions-bb08dc18.js","./I3SUtil-af69b331.js","./I3SBinaryReader-a886200a.js","./popupUtils-39bc551c.js","./BuildingGroupSublayer-ecb9526d.js","./SceneService-954a9e89.js","./associatedFeatureServiceUtils-d274fe65.js"],import.meta.url)).default,CSVLayer:async()=>(await a(()=>import("./index-755e30b3.js").then(t=>t.zi),["./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-c59eabeb.js"),["./CatalogLayer-c59eabeb.js","./index-755e30b3.js","./index-74ab7f40.css","./utils-35cc9879.js","./ClassBreaksDefinition-65083246.js","./FeatureLayerSource-6927c3e7.js","./External-0704b82f.js","./infoFor3D-a657d595.js","./MeshTransform-e2278420.js","./editingSupport-8a951162.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./QueryTask-0a2e817c.js","./executeForIds-faed3c24.js","./query-0bb6b836.js","./pbfQueryUtils-ef987d7e.js","./pbf-b5a5a0fb.js","./executeQueryJSON-c6fc5b74.js","./executeQueryPBF-ec5ade74.js"],import.meta.url)).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-1400740b.js"),["./DimensionLayer-1400740b.js","./index-755e30b3.js","./index-74ab7f40.css","./Analysis-627a48f8.js","./LengthDimension-e8c08379.js"],import.meta.url)).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-95333ad0.js"),["./ElevationLayer-95333ad0.js","./index-755e30b3.js","./index-74ab7f40.css","./ArcGISCachedService-0071b0b1.js","./TileInfoTilemapCache-2179a6ee.js","./TilemapCache-0abe5916.js","./LercDecoder-1e3bfcd8.js","./WorkerHandle-97566cf2.js"],import.meta.url)).default,FeatureLayer:async()=>(await a(()=>import("./index-755e30b3.js").then(t=>t.zh),["./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-a10c1318.js"),["./GeoJSONLayer-a10c1318.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-57e32389.js"),["./GeoRSSLayer-57e32389.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-8d624a9d.js"),["./GroupLayer-8d624a9d.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-7bbfaa87.js"),["./ImageryLayer-7bbfaa87.js","./index-755e30b3.js","./index-74ab7f40.css","./fetchRasterInfo-f4851ec9.js","./dataUtils-97972bb8.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./ClassBreaksDefinition-65083246.js","./imageBitmapUtils-d255864d.js","./executeQueryJSON-c6fc5b74.js","./query-0bb6b836.js","./pbfQueryUtils-ef987d7e.js","./pbf-b5a5a0fb.js","./AttachmentInfo-c9386e1b.js","./executeForIds-faed3c24.js"],import.meta.url)).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-fd16c4eb.js"),["./ImageryTileLayer-fd16c4eb.js","./index-755e30b3.js","./index-74ab7f40.css","./fetchRasterInfo-f4851ec9.js","./dataUtils-97972bb8.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./ClassBreaksDefinition-65083246.js","./rasterProjectionHelper-e16cd6e7.js","./PolynomialTransform-78812825.js","./TilemapCache-0abe5916.js"],import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-41c789d8.js"),["./IntegratedMesh3DTilesLayer-41c789d8.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-03090133.js"),["./IntegratedMeshLayer-03090133.js","./index-755e30b3.js","./index-74ab7f40.css","./persistable-67d6ff19.js","./resourceExtension-12f3f5a3.js","./SceneService-954a9e89.js","./I3SIndexInfo-75b42d9e.js","./I3SLayerDefinitions-bb08dc18.js","./SceneModification-713246cc.js"],import.meta.url)).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-93b82b8e.js"),["./KMLLayer-93b82b8e.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-5bdc3f66.js"),["./KnowledgeGraphLayer-5bdc3f66.js","./index-755e30b3.js","./index-74ab7f40.css","./KnowledgeGraphSublayer-ff21a84d.js","./FeatureStore-8cb4fc3d.js","./BoundsStore-a18349ce.js","./PooledRBush-4d0f695e.js","./quickselect-ec9600b4.js","./QueryEngine-d076173c.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./WhereClause-46b3a227.js","./TimeOnly-2e6e7531.js","./json-48e3ea08.js","./utils-5f23e483.js","./utils-9aa3b443.js","./utils-35cc9879.js","./ClassBreaksDefinition-65083246.js","./optimizedFeatureQueryEngineAdapter-1990669b.js","./knowledgeGraphService-31fae834.js","./GraphQueryStreaming-85c9f786.js"],import.meta.url)).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-8ce5aba4.js"),["./LineOfSightLayer-8ce5aba4.js","./index-755e30b3.js","./index-74ab7f40.css","./Analysis-627a48f8.js","./LineOfSightAnalysisTarget-0733a286.js","./persistable-67d6ff19.js","./resourceExtension-12f3f5a3.js"],import.meta.url)).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-60d2971e.js"),["./LinkChartLayer-60d2971e.js","./index-755e30b3.js","./index-74ab7f40.css","./KnowledgeGraphSublayer-ff21a84d.js","./FeatureStore-8cb4fc3d.js","./BoundsStore-a18349ce.js","./PooledRBush-4d0f695e.js","./quickselect-ec9600b4.js","./QueryEngine-d076173c.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./WhereClause-46b3a227.js","./TimeOnly-2e6e7531.js","./json-48e3ea08.js","./utils-5f23e483.js","./utils-9aa3b443.js","./utils-35cc9879.js","./ClassBreaksDefinition-65083246.js","./optimizedFeatureQueryEngineAdapter-1990669b.js","./knowledgeGraphService-31fae834.js","./GraphQueryStreaming-85c9f786.js"],import.meta.url)).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-d393a7ca.js"),["./MapImageLayer-d393a7ca.js","./index-755e30b3.js","./index-74ab7f40.css","./SublayersOwner-32dc663f.js","./QueryTask-0a2e817c.js","./infoFor3D-a657d595.js","./executeForIds-faed3c24.js","./query-0bb6b836.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./pbfQueryUtils-ef987d7e.js","./pbf-b5a5a0fb.js","./executeQueryJSON-c6fc5b74.js","./executeQueryPBF-ec5ade74.js","./sublayerUtils-3fc5e4f4.js","./ExportImageParameters-94250f6b.js","./floorFilterUtils-73949d2d.js","./imageBitmapUtils-d255864d.js"],import.meta.url)).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-5c3b588e.js"),["./MapNotesLayer-5c3b588e.js","./index-755e30b3.js","./index-74ab7f40.css","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./GraphicsLayer-7b571046.js","./objectIdUtils-967fafff.js"],import.meta.url)).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-f0c0d6f1.js"),["./MediaLayer-f0c0d6f1.js","./index-755e30b3.js","./index-74ab7f40.css","./VideoElement-c4fa0b7b.js","./resourceExtension-12f3f5a3.js","./MediaElementView-f315b326.js","./normalizeUtilsSync-ddc1bbfd.js","./normalizeUtilsCommon-666f5b60.js","./BoundsStore-a18349ce.js","./PooledRBush-4d0f695e.js","./quickselect-ec9600b4.js"],import.meta.url)).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-95c0e256.js"),["./OGCFeatureLayer-95c0e256.js","./index-755e30b3.js","./index-74ab7f40.css","./ogcFeatureUtils-191244c5.js","./geojson-35296110.js","./date-430969b3.js","./sourceUtils-e34d07d5.js"],import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-9e97b635.js"),["./OpenStreetMapLayer-9e97b635.js","./index-755e30b3.js","./index-74ab7f40.css","./WebTileLayer-94df4d07.js","./imageBitmapUtils-d255864d.js"],import.meta.url)).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-bead085c.js"),["./OrientedImageryLayer-bead085c.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-95b137a8.js"),["./PointCloudLayer-95b137a8.js","./index-755e30b3.js","./index-74ab7f40.css","./SceneService-954a9e89.js","./I3SIndexInfo-75b42d9e.js","./PointCloudUniqueValueRenderer-ea93b9cf.js"],import.meta.url)).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-ab47e864.js"),["./RouteLayer-ab47e864.js","./index-755e30b3.js","./index-74ab7f40.css","./Stop-3f4e3552.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js"],import.meta.url)).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-7c4bfd2f.js"),["./SceneLayer-7c4bfd2f.js","./index-755e30b3.js","./index-74ab7f40.css","./Mesh-c923eadd.js","./MeshTransform-e2278420.js","./vertexSpaceConversion-c83dffb3.js","./External-0704b82f.js","./infoFor3D-a657d595.js","./uploadAssetErrors-165a37d6.js","./SceneService-954a9e89.js","./I3SIndexInfo-75b42d9e.js","./associatedFeatureServiceUtils-d274fe65.js","./capabilities-c607cf72.js","./I3SLayerDefinitions-bb08dc18.js","./persistable-67d6ff19.js","./resourceExtension-12f3f5a3.js","./I3SUtil-af69b331.js","./I3SBinaryReader-a886200a.js","./popupUtils-39bc551c.js"],import.meta.url)).default,StreamLayer:async()=>(await a(()=>import("./index-755e30b3.js").then(t=>t.zj),["./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-ae9cd2fd.js"),["./SubtypeGroupLayer-ae9cd2fd.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,TileLayer:async()=>(await a(()=>import("./TileLayer-4468cbf2.js"),["./TileLayer-4468cbf2.js","./index-755e30b3.js","./index-74ab7f40.css","./ArcGISCachedService-0071b0b1.js","./TileInfoTilemapCache-2179a6ee.js","./TilemapCache-0abe5916.js","./SublayersOwner-32dc663f.js","./QueryTask-0a2e817c.js","./infoFor3D-a657d595.js","./executeForIds-faed3c24.js","./query-0bb6b836.js","./normalizeUtils-9040309c.js","./normalizeUtilsCommon-666f5b60.js","./pbfQueryUtils-ef987d7e.js","./pbf-b5a5a0fb.js","./executeQueryJSON-c6fc5b74.js","./executeQueryPBF-ec5ade74.js","./sublayerUtils-3fc5e4f4.js","./imageBitmapUtils-d255864d.js"],import.meta.url)).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-ac67d246.js"),["./UnknownLayer-ac67d246.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-0160c091.js"),["./UnsupportedLayer-0160c091.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-9a1fffa4.js"),["./VectorTileLayer-9a1fffa4.js","./index-755e30b3.js","./index-74ab7f40.css","./ArcGISCachedService-0071b0b1.js","./TileInfoTilemapCache-2179a6ee.js","./TilemapCache-0abe5916.js","./StyleRepository-44847b73.js"],import.meta.url)).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-028db911.js"),["./VideoLayer-028db911.js","./index-755e30b3.js","./index-74ab7f40.css"],import.meta.url)).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-44b1c5cd.js"),["./VoxelLayer-44b1c5cd.js","./index-755e30b3.js","./index-74ab7f40.css","./SceneService-954a9e89.js","./I3SIndexInfo-75b42d9e.js","./persistable-67d6ff19.js","./resourceExtension-12f3f5a3.js"],import.meta.url)).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-4de4269f.js"),["./WFSLayer-4de4269f.js","./index-755e30b3.js","./index-74ab7f40.css","./wfsUtils-33ed4399.js","./geojson-35296110.js","./date-430969b3.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-a42b538b.js"),["./WMSLayer-a42b538b.js","./index-755e30b3.js","./index-74ab7f40.css","./crsUtils-3bab3d8c.js","./ExportWMSImageParameters-c484ef5a.js","./imageBitmapUtils-d255864d.js"],import.meta.url)).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-7219914b.js"),["./WMTSLayer-7219914b.js","./index-755e30b3.js","./index-74ab7f40.css","./WebTileLayer-94df4d07.js","./imageBitmapUtils-d255864d.js","./TileInfoTilemapCache-2179a6ee.js","./crsUtils-3bab3d8c.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-94df4d07.js").then(t=>t.W),["./WebTileLayer-94df4d07.js","./index-755e30b3.js","./index-74ab7f40.css","./imageBitmapUtils-d255864d.js"],import.meta.url)).default},d=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,...i}=e||{},_=r?await r.fetchServiceMetadata(t,i):await y(t,i);n(_),l(_);const u={serviceJSON:_};if((_.currentVersion??0)<10.5)return u;const m=`${t}/layers`,o=r?await r.fetchServiceMetadata(m,i):await y(m,i);return n(o),l(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function L(t){const{type:e}=t;return!!e&&d.has(e)}function s(t){return t.type==="Table"}function l(t){t.layers=t.layers?.filter(L),t.tables=t.tables?.filter(s)}function E(t){t.type||="Feature Layer"}function c(t){t.type||="Table"}function n(t){t.layers?.forEach(E),t.tables?.forEach(c)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,y as b,w as i,T as t};
