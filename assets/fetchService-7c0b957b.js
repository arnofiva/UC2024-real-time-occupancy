import{ay as p,aA as a}from"./index-918e6eaf.js";async function y(t,e){const{data:r}=await p(t,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-5564e960.js"),["./BingMapsLayer-5564e960.js","./index-918e6eaf.js","./index-a86c5357.css","./imageBitmapUtils-0964fbfa.js"],import.meta.url)).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-e11d4d58.js"),["./BuildingSceneLayer-e11d4d58.js","./index-918e6eaf.js","./index-a86c5357.css","./BuildingComponentSublayer-5bf2bd42.js","./capabilities-c607cf72.js","./I3SIndexInfo-ab6544f2.js","./I3SLayerDefinitions-a5ca4803.js","./I3SUtil-1a803d34.js","./I3SBinaryReader-139ccc83.js","./popupUtils-60c34591.js","./BuildingGroupSublayer-3e5777f6.js","./SceneService-aea56504.js","./associatedFeatureServiceUtils-373274b3.js"],import.meta.url)).default,CSVLayer:async()=>(await a(()=>import("./index-918e6eaf.js").then(t=>t.zi),["./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-7ae696a8.js"),["./CatalogLayer-7ae696a8.js","./index-918e6eaf.js","./index-a86c5357.css","./utils-ca5c0a62.js","./ClassBreaksDefinition-74da4923.js","./FeatureLayerSource-c2211390.js","./External-a21127c6.js","./infoFor3D-a657d595.js","./MeshTransform-47f0d792.js","./editingSupport-cbb5954b.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./QueryTask-3a1173e2.js","./executeForIds-e035a8ed.js","./query-d1f1d40a.js","./pbfQueryUtils-186f3d3f.js","./pbf-ed074847.js","./executeQueryJSON-f5fc503b.js","./executeQueryPBF-53cfd517.js"],import.meta.url)).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-fe4ed159.js"),["./DimensionLayer-fe4ed159.js","./index-918e6eaf.js","./index-a86c5357.css","./Analysis-2355a261.js","./LengthDimension-6fceffe8.js"],import.meta.url)).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-0745fcfb.js"),["./ElevationLayer-0745fcfb.js","./index-918e6eaf.js","./index-a86c5357.css","./ArcGISCachedService-4fde4a1e.js","./TileInfoTilemapCache-199d57d9.js","./TilemapCache-325c3c09.js","./LercDecoder-c39ac890.js","./WorkerHandle-df5f4704.js"],import.meta.url)).default,FeatureLayer:async()=>(await a(()=>import("./index-918e6eaf.js").then(t=>t.zh),["./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-b6c0a0ee.js"),["./GeoJSONLayer-b6c0a0ee.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-e77adef3.js"),["./GeoRSSLayer-e77adef3.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-bdf502c4.js"),["./GroupLayer-bdf502c4.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-41dc037d.js"),["./ImageryLayer-41dc037d.js","./index-918e6eaf.js","./index-a86c5357.css","./fetchRasterInfo-e91e8d08.js","./dataUtils-ca92910d.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./ClassBreaksDefinition-74da4923.js","./imageBitmapUtils-0964fbfa.js","./executeQueryJSON-f5fc503b.js","./query-d1f1d40a.js","./pbfQueryUtils-186f3d3f.js","./pbf-ed074847.js","./AttachmentInfo-bbe5f5a7.js","./executeForIds-e035a8ed.js"],import.meta.url)).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-60d4f681.js"),["./ImageryTileLayer-60d4f681.js","./index-918e6eaf.js","./index-a86c5357.css","./fetchRasterInfo-e91e8d08.js","./dataUtils-ca92910d.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./ClassBreaksDefinition-74da4923.js","./rasterProjectionHelper-098455b7.js","./PolynomialTransform-13179c75.js","./TilemapCache-325c3c09.js"],import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-256b43d0.js"),["./IntegratedMesh3DTilesLayer-256b43d0.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-0bc9bc00.js"),["./IntegratedMeshLayer-0bc9bc00.js","./index-918e6eaf.js","./index-a86c5357.css","./persistable-b1179a2c.js","./resourceExtension-06dca554.js","./SceneService-aea56504.js","./I3SIndexInfo-ab6544f2.js","./I3SLayerDefinitions-a5ca4803.js","./SceneModification-6aa808e0.js"],import.meta.url)).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-a67a2c64.js"),["./KMLLayer-a67a2c64.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-530ef5c5.js"),["./KnowledgeGraphLayer-530ef5c5.js","./index-918e6eaf.js","./index-a86c5357.css","./KnowledgeGraphSublayer-f1d96468.js","./FeatureStore-14d77af7.js","./BoundsStore-8c32fa5d.js","./PooledRBush-a3e37e3f.js","./quickselect-29156064.js","./QueryEngine-fac3f81b.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./WhereClause-b2d3ca9c.js","./TimeOnly-e0853475.js","./json-48e3ea08.js","./utils-c72669d8.js","./utils-7f6197fa.js","./utils-ca5c0a62.js","./ClassBreaksDefinition-74da4923.js","./optimizedFeatureQueryEngineAdapter-06df54ea.js","./knowledgeGraphService-81d7c9f9.js","./GraphQueryStreaming-8629b857.js"],import.meta.url)).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-8825f444.js"),["./LineOfSightLayer-8825f444.js","./index-918e6eaf.js","./index-a86c5357.css","./Analysis-2355a261.js","./LineOfSightAnalysisTarget-7dd78307.js","./persistable-b1179a2c.js","./resourceExtension-06dca554.js"],import.meta.url)).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-3fda0f1d.js"),["./LinkChartLayer-3fda0f1d.js","./index-918e6eaf.js","./index-a86c5357.css","./KnowledgeGraphSublayer-f1d96468.js","./FeatureStore-14d77af7.js","./BoundsStore-8c32fa5d.js","./PooledRBush-a3e37e3f.js","./quickselect-29156064.js","./QueryEngine-fac3f81b.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./WhereClause-b2d3ca9c.js","./TimeOnly-e0853475.js","./json-48e3ea08.js","./utils-c72669d8.js","./utils-7f6197fa.js","./utils-ca5c0a62.js","./ClassBreaksDefinition-74da4923.js","./optimizedFeatureQueryEngineAdapter-06df54ea.js","./knowledgeGraphService-81d7c9f9.js","./GraphQueryStreaming-8629b857.js"],import.meta.url)).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-93af7932.js"),["./MapImageLayer-93af7932.js","./index-918e6eaf.js","./index-a86c5357.css","./SublayersOwner-a4df0348.js","./QueryTask-3a1173e2.js","./infoFor3D-a657d595.js","./executeForIds-e035a8ed.js","./query-d1f1d40a.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./pbfQueryUtils-186f3d3f.js","./pbf-ed074847.js","./executeQueryJSON-f5fc503b.js","./executeQueryPBF-53cfd517.js","./sublayerUtils-eb5297ed.js","./ExportImageParameters-e76c79e5.js","./floorFilterUtils-73949d2d.js","./imageBitmapUtils-0964fbfa.js"],import.meta.url)).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-6b30a715.js"),["./MapNotesLayer-6b30a715.js","./index-918e6eaf.js","./index-a86c5357.css","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./GraphicsLayer-1a67c2ca.js","./objectIdUtils-967fafff.js"],import.meta.url)).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-a74bccd0.js"),["./MediaLayer-a74bccd0.js","./index-918e6eaf.js","./index-a86c5357.css","./VideoElement-fbc9b301.js","./resourceExtension-06dca554.js","./MediaElementView-49173dc2.js","./normalizeUtilsSync-0068357c.js","./normalizeUtilsCommon-fa0b010f.js","./BoundsStore-8c32fa5d.js","./PooledRBush-a3e37e3f.js","./quickselect-29156064.js"],import.meta.url)).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-45101fa0.js"),["./OGCFeatureLayer-45101fa0.js","./index-918e6eaf.js","./index-a86c5357.css","./ogcFeatureUtils-d189bc1b.js","./geojson-6bf8f139.js","./date-430969b3.js","./sourceUtils-5d983a0c.js"],import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-f8e0240f.js"),["./OpenStreetMapLayer-f8e0240f.js","./index-918e6eaf.js","./index-a86c5357.css","./WebTileLayer-bdf6c7d7.js","./imageBitmapUtils-0964fbfa.js"],import.meta.url)).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-f81fd311.js"),["./OrientedImageryLayer-f81fd311.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-1d068579.js"),["./PointCloudLayer-1d068579.js","./index-918e6eaf.js","./index-a86c5357.css","./SceneService-aea56504.js","./I3SIndexInfo-ab6544f2.js","./PointCloudUniqueValueRenderer-db9f64c2.js"],import.meta.url)).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-f25ba31b.js"),["./RouteLayer-f25ba31b.js","./index-918e6eaf.js","./index-a86c5357.css","./Stop-9015fe8b.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js"],import.meta.url)).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-26efdc63.js"),["./SceneLayer-26efdc63.js","./index-918e6eaf.js","./index-a86c5357.css","./Mesh-6d5bfac3.js","./MeshTransform-47f0d792.js","./vertexSpaceConversion-67697def.js","./External-a21127c6.js","./infoFor3D-a657d595.js","./uploadAssetErrors-e41d11a5.js","./SceneService-aea56504.js","./I3SIndexInfo-ab6544f2.js","./associatedFeatureServiceUtils-373274b3.js","./capabilities-c607cf72.js","./I3SLayerDefinitions-a5ca4803.js","./persistable-b1179a2c.js","./resourceExtension-06dca554.js","./I3SUtil-1a803d34.js","./I3SBinaryReader-139ccc83.js","./popupUtils-60c34591.js"],import.meta.url)).default,StreamLayer:async()=>(await a(()=>import("./index-918e6eaf.js").then(t=>t.zj),["./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-7ac0de0d.js"),["./SubtypeGroupLayer-7ac0de0d.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,TileLayer:async()=>(await a(()=>import("./TileLayer-ae763a5a.js"),["./TileLayer-ae763a5a.js","./index-918e6eaf.js","./index-a86c5357.css","./ArcGISCachedService-4fde4a1e.js","./TileInfoTilemapCache-199d57d9.js","./TilemapCache-325c3c09.js","./SublayersOwner-a4df0348.js","./QueryTask-3a1173e2.js","./infoFor3D-a657d595.js","./executeForIds-e035a8ed.js","./query-d1f1d40a.js","./normalizeUtils-c68c7722.js","./normalizeUtilsCommon-fa0b010f.js","./pbfQueryUtils-186f3d3f.js","./pbf-ed074847.js","./executeQueryJSON-f5fc503b.js","./executeQueryPBF-53cfd517.js","./sublayerUtils-eb5297ed.js","./imageBitmapUtils-0964fbfa.js"],import.meta.url)).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-d74ebde6.js"),["./UnknownLayer-d74ebde6.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-2681bbe5.js"),["./UnsupportedLayer-2681bbe5.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-d6a543d4.js"),["./VectorTileLayer-d6a543d4.js","./index-918e6eaf.js","./index-a86c5357.css","./ArcGISCachedService-4fde4a1e.js","./TileInfoTilemapCache-199d57d9.js","./TilemapCache-325c3c09.js","./StyleRepository-a53c216f.js"],import.meta.url)).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-186a1a1d.js"),["./VideoLayer-186a1a1d.js","./index-918e6eaf.js","./index-a86c5357.css"],import.meta.url)).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-43393429.js"),["./VoxelLayer-43393429.js","./index-918e6eaf.js","./index-a86c5357.css","./SceneService-aea56504.js","./I3SIndexInfo-ab6544f2.js","./persistable-b1179a2c.js","./resourceExtension-06dca554.js"],import.meta.url)).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-2a05be07.js"),["./WFSLayer-2a05be07.js","./index-918e6eaf.js","./index-a86c5357.css","./wfsUtils-347b8c59.js","./geojson-6bf8f139.js","./date-430969b3.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-a6912795.js"),["./WMSLayer-a6912795.js","./index-918e6eaf.js","./index-a86c5357.css","./crsUtils-3bab3d8c.js","./ExportWMSImageParameters-280cd15c.js","./imageBitmapUtils-0964fbfa.js"],import.meta.url)).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-ba691395.js"),["./WMTSLayer-ba691395.js","./index-918e6eaf.js","./index-a86c5357.css","./WebTileLayer-bdf6c7d7.js","./imageBitmapUtils-0964fbfa.js","./TileInfoTilemapCache-199d57d9.js","./crsUtils-3bab3d8c.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-bdf6c7d7.js").then(t=>t.W),["./WebTileLayer-bdf6c7d7.js","./index-918e6eaf.js","./index-a86c5357.css","./imageBitmapUtils-0964fbfa.js"],import.meta.url)).default},d=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,...i}=e||{},_=r?await r.fetchServiceMetadata(t,i):await y(t,i);n(_),l(_);const u={serviceJSON:_};if((_.currentVersion??0)<10.5)return u;const m=`${t}/layers`,o=r?await r.fetchServiceMetadata(m,i):await y(m,i);return n(o),l(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function L(t){const{type:e}=t;return!!e&&d.has(e)}function s(t){return t.type==="Table"}function l(t){t.layers=t.layers?.filter(L),t.tables=t.tables?.filter(s)}function E(t){t.type||="Feature Layer"}function c(t){t.type||="Table"}function n(t){t.layers?.forEach(E),t.tables?.forEach(c)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,y as b,w as i,T as t};
