import{ay as p,aA as a}from"./index-ee8e5ecc.js";async function y(t,e){const{data:r}=await p(t,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-645d31fa.js"),["./BingMapsLayer-645d31fa.js","./index-ee8e5ecc.js","./index-a86c5357.css","./imageBitmapUtils-fff39c29.js"],import.meta.url)).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-5dfafb66.js"),["./BuildingSceneLayer-5dfafb66.js","./index-ee8e5ecc.js","./index-a86c5357.css","./BuildingComponentSublayer-8e538029.js","./capabilities-c607cf72.js","./I3SIndexInfo-b0f6373c.js","./I3SLayerDefinitions-28eb07ea.js","./I3SUtil-fcf02bbf.js","./I3SBinaryReader-fbf58589.js","./popupUtils-923d7ce0.js","./BuildingGroupSublayer-80dd6795.js","./SceneService-8bc598c0.js","./associatedFeatureServiceUtils-c6e0d357.js"],import.meta.url)).default,CSVLayer:async()=>(await a(()=>import("./index-ee8e5ecc.js").then(t=>t.zi),["./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-1f049217.js"),["./CatalogLayer-1f049217.js","./index-ee8e5ecc.js","./index-a86c5357.css","./utils-47ac37f9.js","./ClassBreaksDefinition-43c97c7c.js","./FeatureLayerSource-25a0ba72.js","./External-93917e74.js","./infoFor3D-a657d595.js","./MeshTransform-7ca01a5e.js","./editingSupport-5fb4945e.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./QueryTask-5b042940.js","./executeForIds-e1f5ddc4.js","./query-9198cd9f.js","./pbfQueryUtils-c7b4903b.js","./pbf-99c055ee.js","./executeQueryJSON-d51554e8.js","./executeQueryPBF-0e50ace5.js"],import.meta.url)).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-241ba04a.js"),["./DimensionLayer-241ba04a.js","./index-ee8e5ecc.js","./index-a86c5357.css","./Analysis-d61eec31.js","./LengthDimension-d92391b4.js"],import.meta.url)).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-b1624299.js"),["./ElevationLayer-b1624299.js","./index-ee8e5ecc.js","./index-a86c5357.css","./ArcGISCachedService-904f0abb.js","./TileInfoTilemapCache-6fa70aa3.js","./TilemapCache-69fa9b43.js","./LercDecoder-e748b2f6.js","./WorkerHandle-5bfc3acb.js"],import.meta.url)).default,FeatureLayer:async()=>(await a(()=>import("./index-ee8e5ecc.js").then(t=>t.zh),["./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-968855a7.js"),["./GeoJSONLayer-968855a7.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-6435be39.js"),["./GeoRSSLayer-6435be39.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-f3538380.js"),["./GroupLayer-f3538380.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-d756aea2.js"),["./ImageryLayer-d756aea2.js","./index-ee8e5ecc.js","./index-a86c5357.css","./fetchRasterInfo-714ea3e1.js","./dataUtils-32f24408.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./ClassBreaksDefinition-43c97c7c.js","./imageBitmapUtils-fff39c29.js","./executeQueryJSON-d51554e8.js","./query-9198cd9f.js","./pbfQueryUtils-c7b4903b.js","./pbf-99c055ee.js","./AttachmentInfo-1525cf72.js","./executeForIds-e1f5ddc4.js"],import.meta.url)).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-1e744ad2.js"),["./ImageryTileLayer-1e744ad2.js","./index-ee8e5ecc.js","./index-a86c5357.css","./fetchRasterInfo-714ea3e1.js","./dataUtils-32f24408.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./ClassBreaksDefinition-43c97c7c.js","./rasterProjectionHelper-4eb61b9a.js","./PolynomialTransform-bf870637.js","./TilemapCache-69fa9b43.js"],import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-524f123f.js"),["./IntegratedMesh3DTilesLayer-524f123f.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-238920a6.js"),["./IntegratedMeshLayer-238920a6.js","./index-ee8e5ecc.js","./index-a86c5357.css","./persistable-5b1cda4a.js","./resourceExtension-31045c1e.js","./SceneService-8bc598c0.js","./I3SIndexInfo-b0f6373c.js","./I3SLayerDefinitions-28eb07ea.js","./SceneModification-78a31cb7.js"],import.meta.url)).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-36fc7ebb.js"),["./KMLLayer-36fc7ebb.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-be68ec89.js"),["./KnowledgeGraphLayer-be68ec89.js","./index-ee8e5ecc.js","./index-a86c5357.css","./KnowledgeGraphSublayer-02ea4ece.js","./FeatureStore-2f56759a.js","./BoundsStore-3451b635.js","./PooledRBush-9e9eeb23.js","./quickselect-8e85fa0f.js","./QueryEngine-5264404e.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./WhereClause-7b39bf18.js","./TimeOnly-6ac4fb3b.js","./json-48e3ea08.js","./utils-ade942ec.js","./utils-11d55532.js","./utils-47ac37f9.js","./ClassBreaksDefinition-43c97c7c.js","./optimizedFeatureQueryEngineAdapter-5efe58be.js","./knowledgeGraphService-95a2344b.js","./GraphQueryStreaming-486539d8.js"],import.meta.url)).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-ccac3b85.js"),["./LineOfSightLayer-ccac3b85.js","./index-ee8e5ecc.js","./index-a86c5357.css","./Analysis-d61eec31.js","./LineOfSightAnalysisTarget-a311c5db.js","./persistable-5b1cda4a.js","./resourceExtension-31045c1e.js"],import.meta.url)).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-89e25e67.js"),["./LinkChartLayer-89e25e67.js","./index-ee8e5ecc.js","./index-a86c5357.css","./KnowledgeGraphSublayer-02ea4ece.js","./FeatureStore-2f56759a.js","./BoundsStore-3451b635.js","./PooledRBush-9e9eeb23.js","./quickselect-8e85fa0f.js","./QueryEngine-5264404e.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./WhereClause-7b39bf18.js","./TimeOnly-6ac4fb3b.js","./json-48e3ea08.js","./utils-ade942ec.js","./utils-11d55532.js","./utils-47ac37f9.js","./ClassBreaksDefinition-43c97c7c.js","./optimizedFeatureQueryEngineAdapter-5efe58be.js","./knowledgeGraphService-95a2344b.js","./GraphQueryStreaming-486539d8.js"],import.meta.url)).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-04b553da.js"),["./MapImageLayer-04b553da.js","./index-ee8e5ecc.js","./index-a86c5357.css","./SublayersOwner-5c95041b.js","./QueryTask-5b042940.js","./infoFor3D-a657d595.js","./executeForIds-e1f5ddc4.js","./query-9198cd9f.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./pbfQueryUtils-c7b4903b.js","./pbf-99c055ee.js","./executeQueryJSON-d51554e8.js","./executeQueryPBF-0e50ace5.js","./sublayerUtils-a92dbf35.js","./ExportImageParameters-b7344ad3.js","./floorFilterUtils-73949d2d.js","./imageBitmapUtils-fff39c29.js"],import.meta.url)).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-d3630ebe.js"),["./MapNotesLayer-d3630ebe.js","./index-ee8e5ecc.js","./index-a86c5357.css","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./GraphicsLayer-b4007627.js","./objectIdUtils-967fafff.js"],import.meta.url)).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-e38875cc.js"),["./MediaLayer-e38875cc.js","./index-ee8e5ecc.js","./index-a86c5357.css","./VideoElement-30db36b2.js","./resourceExtension-31045c1e.js","./MediaElementView-c43692f2.js","./normalizeUtilsSync-1442551d.js","./normalizeUtilsCommon-2270a178.js","./BoundsStore-3451b635.js","./PooledRBush-9e9eeb23.js","./quickselect-8e85fa0f.js"],import.meta.url)).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-941209f3.js"),["./OGCFeatureLayer-941209f3.js","./index-ee8e5ecc.js","./index-a86c5357.css","./ogcFeatureUtils-d777fe27.js","./geojson-543202ab.js","./date-430969b3.js","./sourceUtils-17aee5ee.js"],import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-13e7f2f9.js"),["./OpenStreetMapLayer-13e7f2f9.js","./index-ee8e5ecc.js","./index-a86c5357.css","./WebTileLayer-2cde2f83.js","./imageBitmapUtils-fff39c29.js"],import.meta.url)).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-90496e6e.js"),["./OrientedImageryLayer-90496e6e.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-cd183293.js"),["./PointCloudLayer-cd183293.js","./index-ee8e5ecc.js","./index-a86c5357.css","./SceneService-8bc598c0.js","./I3SIndexInfo-b0f6373c.js","./PointCloudUniqueValueRenderer-af5c6df8.js"],import.meta.url)).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-b6666c08.js"),["./RouteLayer-b6666c08.js","./index-ee8e5ecc.js","./index-a86c5357.css","./Stop-697ca5d9.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js"],import.meta.url)).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-7deb6a95.js"),["./SceneLayer-7deb6a95.js","./index-ee8e5ecc.js","./index-a86c5357.css","./Mesh-fa2f1f66.js","./MeshTransform-7ca01a5e.js","./vertexSpaceConversion-b323788a.js","./External-93917e74.js","./infoFor3D-a657d595.js","./uploadAssetErrors-7eba56db.js","./SceneService-8bc598c0.js","./I3SIndexInfo-b0f6373c.js","./associatedFeatureServiceUtils-c6e0d357.js","./capabilities-c607cf72.js","./I3SLayerDefinitions-28eb07ea.js","./persistable-5b1cda4a.js","./resourceExtension-31045c1e.js","./I3SUtil-fcf02bbf.js","./I3SBinaryReader-fbf58589.js","./popupUtils-923d7ce0.js"],import.meta.url)).default,StreamLayer:async()=>(await a(()=>import("./index-ee8e5ecc.js").then(t=>t.zj),["./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-e09768dc.js"),["./SubtypeGroupLayer-e09768dc.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,TileLayer:async()=>(await a(()=>import("./TileLayer-c2a82226.js"),["./TileLayer-c2a82226.js","./index-ee8e5ecc.js","./index-a86c5357.css","./ArcGISCachedService-904f0abb.js","./TileInfoTilemapCache-6fa70aa3.js","./TilemapCache-69fa9b43.js","./SublayersOwner-5c95041b.js","./QueryTask-5b042940.js","./infoFor3D-a657d595.js","./executeForIds-e1f5ddc4.js","./query-9198cd9f.js","./normalizeUtils-d9b14f9e.js","./normalizeUtilsCommon-2270a178.js","./pbfQueryUtils-c7b4903b.js","./pbf-99c055ee.js","./executeQueryJSON-d51554e8.js","./executeQueryPBF-0e50ace5.js","./sublayerUtils-a92dbf35.js","./imageBitmapUtils-fff39c29.js"],import.meta.url)).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-69ef09aa.js"),["./UnknownLayer-69ef09aa.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-241c2f8f.js"),["./UnsupportedLayer-241c2f8f.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-6998f4b2.js"),["./VectorTileLayer-6998f4b2.js","./index-ee8e5ecc.js","./index-a86c5357.css","./ArcGISCachedService-904f0abb.js","./TileInfoTilemapCache-6fa70aa3.js","./TilemapCache-69fa9b43.js","./StyleRepository-dabeb4ef.js"],import.meta.url)).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-8c1181c4.js"),["./VideoLayer-8c1181c4.js","./index-ee8e5ecc.js","./index-a86c5357.css"],import.meta.url)).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-996cc1ee.js"),["./VoxelLayer-996cc1ee.js","./index-ee8e5ecc.js","./index-a86c5357.css","./SceneService-8bc598c0.js","./I3SIndexInfo-b0f6373c.js","./persistable-5b1cda4a.js","./resourceExtension-31045c1e.js"],import.meta.url)).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-df30be65.js"),["./WFSLayer-df30be65.js","./index-ee8e5ecc.js","./index-a86c5357.css","./wfsUtils-8ffb5fec.js","./geojson-543202ab.js","./date-430969b3.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-b72c9d9f.js"),["./WMSLayer-b72c9d9f.js","./index-ee8e5ecc.js","./index-a86c5357.css","./crsUtils-3bab3d8c.js","./ExportWMSImageParameters-4fd430d3.js","./imageBitmapUtils-fff39c29.js"],import.meta.url)).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-470c0a62.js"),["./WMTSLayer-470c0a62.js","./index-ee8e5ecc.js","./index-a86c5357.css","./WebTileLayer-2cde2f83.js","./imageBitmapUtils-fff39c29.js","./TileInfoTilemapCache-6fa70aa3.js","./crsUtils-3bab3d8c.js","./xmlUtils-444cb4c0.js"],import.meta.url)).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-2cde2f83.js").then(t=>t.W),["./WebTileLayer-2cde2f83.js","./index-ee8e5ecc.js","./index-a86c5357.css","./imageBitmapUtils-fff39c29.js"],import.meta.url)).default},d=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,...i}=e||{},_=r?await r.fetchServiceMetadata(t,i):await y(t,i);n(_),l(_);const u={serviceJSON:_};if((_.currentVersion??0)<10.5)return u;const m=`${t}/layers`,o=r?await r.fetchServiceMetadata(m,i):await y(m,i);return n(o),l(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function L(t){const{type:e}=t;return!!e&&d.has(e)}function s(t){return t.type==="Table"}function l(t){t.layers=t.layers?.filter(L),t.tables=t.tables?.filter(s)}function E(t){t.type||="Feature Layer"}function c(t){t.type||="Table"}function n(t){t.layers?.forEach(E),t.tables?.forEach(c)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,y as b,w as i,T as t};
